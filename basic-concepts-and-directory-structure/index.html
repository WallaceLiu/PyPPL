



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.3, mkdocs-material-3.0.4">
    
    
      
        <title>Basics and folder structure - PyPPL</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.451f80e5.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="../#basic-concepts-and-folder-structure" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="PyPPL" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                PyPPL
              </span>
              <span class="md-header-nav__topic">
                Basics and folder structure
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="PyPPL" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    PyPPL
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Basics and folder structure
      </label>
    
    <a href="./" title="Basics and folder structure" class="md-nav__link md-nav__link--active">
      Basics and folder structure
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#basic-concepts-and-folder-structure" title="Basic concepts and folder structure" class="md-nav__link">
    Basic concepts and folder structure
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#layers-of-a-pipeline" title="Layers of a pipeline" class="md-nav__link">
    Layers of a pipeline
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#folder-structure" title="Folder structure" class="md-nav__link">
    Folder structure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#symbols-used-in-this-documentation" title="Symbols used in this documentation" class="md-nav__link">
    Symbols used in this documentation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../placeholders/" title="Templating" class="md-nav__link">
      Templating
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../channels/" title="Channels" class="md-nav__link">
      Channels
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../specify-input-and-output-of-a-process/" title="Input and output of a process" class="md-nav__link">
      Input and output of a process
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../write-your-script/" title="The heart: script" class="md-nav__link">
      The heart: script
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../export-output-files/" title="Output file exporting" class="md-nav__link">
      Output file exporting
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../caching/" title="Caching and resuming processes" class="md-nav__link">
      Caching and resuming processes
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../runners/" title="Runners and running profiles" class="md-nav__link">
      Runners and running profiles
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../error-handling/" title="Error handling of processes" class="md-nav__link">
      Error handling of processes
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../set-other-properties-of-a-process/" title="Other attributes of a process" class="md-nav__link">
      Other attributes of a process
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../configure-your-logs/" title="Log configuration" class="md-nav__link">
      Log configuration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../draw-flowchart-of-a-pipeline/" title="Pipeline flowchart" class="md-nav__link">
      Pipeline flowchart
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../configure-a-pipeline/" title="Pipeline configuration" class="md-nav__link">
      Pipeline configuration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../command-line-argument-parser/" title="Command line argument parser" class="md-nav__link">
      Command line argument parser
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../aggregations/" title="Aggregations" class="md-nav__link">
      Aggregations
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../command-line-tool/" title="Command line tool" class="md-nav__link">
      Command line tool
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../api/" title="API" class="md-nav__link">
      API
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../faq/" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../change-log/" title="Change log" class="md-nav__link">
      Change log
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#basic-concepts-and-folder-structure" title="Basic concepts and folder structure" class="md-nav__link">
    Basic concepts and folder structure
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#layers-of-a-pipeline" title="Layers of a pipeline" class="md-nav__link">
    Layers of a pipeline
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#folder-structure" title="Folder structure" class="md-nav__link">
    Folder structure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#symbols-used-in-this-documentation" title="Symbols used in this documentation" class="md-nav__link">
    Symbols used in this documentation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Basics and folder structure</h1>
                
                <h2 id="basic-concepts-and-folder-structure">Basic concepts and folder structure</h2>
<!-- toc -->

<h3 id="layers-of-a-pipeline">Layers of a pipeline</h3>
<p><img alt="Basic concepts" src="../concept.png" />
The pipeline consists of channels and processes. A process may have many jobs. Each job uses the corresponding elements from the input channel of the process, and generates values for output channel.<br />
Actually, what you need to do is just specify the first input channel, and then tell <code>PyPPL</code> the dependencies of the processes. The later processes will use the output channel of the processes they depend on. Of course, you can interfere by using functions in the input specification.</p>
<h3 id="folder-structure">Folder structure</h3>
<div class="highlight"><pre><span></span>./
|-- pipeline.py
`-- workdir/
	`-- PyPPL.&lt;id&gt;.&lt;tag&gt;.&lt;suffix&gt;/
		|-- proc.lock
		|-- proc.settings
		`-- &lt;job.index&gt;/
			|-- input/
			|-- output/
			|-- job.cache
			|-- job.script
			|-- job.pid
			|-- job.rc
			|-- job.stdout
			|-- job.stderr
			|-- [job.script.local]
			|-- [job.script.ssh]
			`-- [job.script.sge]
</pre></div>

<table>
<thead>
<tr>
<th>Path</th>
<th>Content</th>
<th>Memo</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>workdir/</code></td>
<td>Where the pipeline directories of all processes of current pipeline are located.</td>
<td>Can be set by <code>p.ppldir</code></td>
</tr>
<tr>
<td><code>PyPPL.&lt;id&gt;.&lt;tag&gt;.&lt;suffix&gt;/</code></td>
<td>The work directory of current process.</td>
<td>The <code>suffix</code> is a unique identify of the process according to its configuration.<br/>You may set it by <code>p.workdir</code></td>
</tr>
<tr>
<td><code>proc.settings/</code></td>
<td>The settings of the process</td>
<td>A copy of proc settings</td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/</code></td>
<td>The job directory</td>
<td>Starts with <code>1</code></td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/input/</code></td>
<td>Where you can find the links to all the input files</td>
<td></td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/output/</code></td>
<td>Where you can find all the output files</td>
<td></td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/job.cache</code></td>
<td>The file containing the signature of the job</td>
<td></td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/job.script</code></td>
<td>To script file to be running</td>
<td></td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/job.pid</code></td>
<td>The id of the job of its running system.</td>
<td>Mostly used to tell whether the process is still running.</td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/job.rc</code></td>
<td>To file containing the return code</td>
<td></td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/job.stdout</code></td>
<td>The STDOUT of the script</td>
<td></td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/job.stderr</code></td>
<td>The STDERR of the script</td>
<td></td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/job.script.local</code></td>
<td>The wrapper for local jobs to save return code, stdout and stderr</td>
<td></td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/job.script.ssh</code></td>
<td>The script file for ssh runner</td>
<td></td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/job.script.sge</code></td>
<td>The script file for sge runner</td>
<td></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You are encouraged to set <code>p.ppldir</code> <strong>BUT NOT</strong> <code>p.workdir</code>, as it contains a unique <code>suffix</code> that is automatically computed.  </p>
</div>
<h3 id="symbols-used-in-this-documentation">Symbols used in this documentation</h3>
<ul>
<li><code>&lt;workdir&gt;</code> refers to <code>./workdir/PyPPL.&lt;id&gt;.&lt;tag&gt;.&lt;suffix&gt;/</code>,  </li>
<li><code>&lt;indir&gt;</code> refers to <code>./workdir/PyPPL.&lt;id&gt;.&lt;tag&gt;.&lt;suffix&gt;/&lt;job.index&gt;/input/</code>  </li>
<li><code>&lt;outdir&gt;</code> refers to <code>./workdir/PyPPL.&lt;id&gt;.&lt;tag&gt;.&lt;suffix&gt;/&lt;job.index&gt;/output/</code>  </li>
<li><code>pXXX</code> or <code>p</code> refers to a process instantiated from <code>pyppl.Proc</code> class.</li>
</ul>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href=".." title="Introduction" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Introduction
              </span>
            </div>
          </a>
        
        
          <a href="../placeholders/" title="Templating" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Templating
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.a26c1c19.js"></script>
      
      <script>app.initialize({version:"1.0.3",url:{base:".."}})</script>
      
    
    
      
    
  </body>
</html>