<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Basics and folder structure - PyPPL - A Python PiPeLine framework</title>
        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/highlight.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        <script src="../js/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/highlight.pack.js"></script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../README/">PyPPL - A Python PiPeLine framework</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li >
                        <a href="../README/">Introduction</a>
                    </li>
                    <li class="active">
                        <a href="./">Basics and folder structure</a>
                    </li>
                    <li >
                        <a href="../placeholders/">Templating</a>
                    </li>
                    <li >
                        <a href="../channels/">Channels</a>
                    </li>
                    <li >
                        <a href="../specify-input-and-output-of-a-process/">Input and output of a process</a>
                    </li>
                    <li >
                        <a href="../write-your-script/">The heart: script</a>
                    </li>
                    <li >
                        <a href="../export-output-files/">Output file exporting</a>
                    </li>
                    <li >
                        <a href="../caching/">Caching and resuming processes</a>
                    </li>
                    <li >
                        <a href="../runners/">Runners</a>
                    </li>
                    <li >
                        <a href="../set-other-properties-of-a-process/">Other attributes of a process</a>
                    </li>
                    <li >
                        <a href="../configure-your-logs/">Log configuration</a>
                    </li>
                    <li >
                        <a href="../configure-a-pipeline/">Pipeline configuration</a>
                    </li>
                    <li >
                        <a href="../draw-flowchart-of-a-pipeline/">Pipeline flowchart</a>
                    </li>
                    <li >
                        <a href="../command-line-argument-parser/">Command line argument parser</a>
                    </li>
                    <li >
                        <a href="../aggregations/">Aggregations</a>
                    </li>
                    <li >
                        <a href="../command-line-tool/">Command line tool</a>
                    </li>
                    <li >
                        <a href="../api/">API</a>
                    </li>
                    <li >
                        <a href="../faq/">FAQ</a>
                    </li>
                    <li >
                        <a href="../change-log/">Change log</a>
                    </li>
                </ul>

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                    <li >
                        <a rel="next" href="../README/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../placeholders/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#basic-concepts-and-folder-structure">Basic concepts and folder structure</a></li>
            <li><a href="#layers-of-a-pipeline">Layers of a pipeline</a></li>
            <li><a href="#folder-structure">Folder structure</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="basic-concepts-and-folder-structure">Basic concepts and folder structure</h1>
<!-- toc -->

<h2 id="layers-of-a-pipeline">Layers of a pipeline</h2>
<p><img alt="Basic concepts" src="../concept.png" />
The pipeline consists of channels and processes. A process may have many jobs. Each job uses the corresponding elements from the input channel of the process, and generates values for output channel.<br />
Actually, what you need to do is just specify the first input channel, and then tell <code>PyPPL</code> the dependencies of the processes. The later processes will use the output channel of the processes they depend on. Of course, you can interfere by using functions in the input specification.</p>
<h2 id="folder-structure">Folder structure</h2>
<pre><code>./
|-- pipeline.py
`-- workdir/
    `-- PyPPL.&lt;id&gt;.&lt;tag&gt;.&lt;suffix&gt;/
        `-- proc.settings
        `-- &lt;job.index&gt;/
            |-- input/
            |-- output/
            |-- job.cache
            |-- job.script
            |-- job.pid
            |-- job.rc
            |-- job.stdout
            |-- job.stderr
            |-- [job.script.submit]
            |-- [job.script.local]
            |-- [job.script.ssh]
            `-- [job.script.sge]
</code></pre>

<table>
<thead>
<tr>
<th>Path</th>
<th>Content</th>
<th>Memo</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>workdir/</code></td>
<td>Where the pipeline directories of all processes of current pipeline are located.</td>
<td>Can be set by <code>p.ppldir</code></td>
</tr>
<tr>
<td><code>PyPPL.&lt;id&gt;.&lt;tag&gt;.&lt;suffix&gt;/</code></td>
<td>The work directory of current process.</td>
<td>The <code>suffix</code> is a unique identify of the process according to its configuration.<br/>You may set it by <code>p.workdir</code></td>
</tr>
<tr>
<td><code>proc.settings/</code></td>
<td>The settings of the process</td>
<td></td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/</code></td>
<td>The job directory</td>
<td></td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/input/</code></td>
<td>Where you can find the links to all the input files</td>
<td></td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/output/</code></td>
<td>Where you can find all the output files</td>
<td></td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/job.cache</code></td>
<td>The file containing the signature of the job</td>
<td></td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/job.script</code></td>
<td>To script file to be running</td>
<td></td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/job.pid</code></td>
<td>The id of the job of its running system.</td>
<td>Mostly used to tell whether the process is still running.</td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/job.rc</code></td>
<td>To file containing the return code</td>
<td></td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/job.stdout</code></td>
<td>The STDOUT of the script</td>
<td></td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/job.stderr</code></td>
<td>The STDERR of the script</td>
<td></td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/job.script.submit</code></td>
<td>The file to submit jobs (local, ssh)</td>
<td></td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/job.script.local</code></td>
<td>The wrapper for local jobs to save return code, stdout and stderr</td>
<td></td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/job.script.ssh</code></td>
<td>The script file for ssh runner</td>
<td></td>
</tr>
<tr>
<td><code>&lt;job.index&gt;/job.script.sge</code></td>
<td>The script file for sge runner</td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>Note</strong> You are encouraged to set <code>p.ppldir</code> <strong>BUT NOT</strong> <code>p.workdir</code>, as it contains a unique <code>suffix</code> that is automatically computed.<br />
<strong>Note</strong> In this documentation:
- <code>&lt;workdir&gt;</code> refers to <code>./workdir/PyPPL.&lt;id&gt;.&lt;tag&gt;.&lt;suffix&gt;/</code>, 
- <code>&lt;indir&gt;</code> refers to <code>./workdir/PyPPL.&lt;id&gt;.&lt;tag&gt;.&lt;suffix&gt;/&lt;job.index&gt;/input/</code>
- <code>&lt;outdir&gt;</code> refers to <code>./workdir/PyPPL.&lt;id&gt;.&lt;tag&gt;.&lt;suffix&gt;/&lt;job.index&gt;/output/</code> 
- <code>pXXX</code> refers to a process instantiated from <code>pyppl.Proc</code> class.</p>
</blockquote></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>var base_url = '..';</script>
        <script src="../js/base.js"></script>
        <script src="../search/require.js"></script>
        <script src="../search/search.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td><kbd>&larr;</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td><kbd>&rarr;</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>


    </body>
</html>
