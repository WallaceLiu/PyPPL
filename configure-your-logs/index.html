



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.0.6">
    
    
      
        <title>Log configuration - PyPPL</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.451f80e5.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#configure-your-logs" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="PyPPL" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                PyPPL
              </span>
              <span class="md-header-nav__topic">
                Log configuration
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="PyPPL" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    PyPPL
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../basic-concepts-and-directory-structure/" title="Basics and folder structure" class="md-nav__link">
      Basics and folder structure
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../placeholders/" title="Templating" class="md-nav__link">
      Templating
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../channels/" title="Channels" class="md-nav__link">
      Channels
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../specify-input-and-output-of-a-process/" title="Input and output of a process" class="md-nav__link">
      Input and output of a process
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../write-your-script/" title="The heart: script" class="md-nav__link">
      The heart: script
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../export-output-files/" title="Output file exporting" class="md-nav__link">
      Output file exporting
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../caching/" title="Caching and resuming processes" class="md-nav__link">
      Caching and resuming processes
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../runners/" title="Runners and running profiles" class="md-nav__link">
      Runners and running profiles
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../error-handling/" title="Error handling of processes" class="md-nav__link">
      Error handling of processes
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../set-other-properties-of-a-process/" title="Other attributes of a process" class="md-nav__link">
      Other attributes of a process
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Log configuration
      </label>
    
    <a href="./" title="Log configuration" class="md-nav__link md-nav__link--active">
      Log configuration
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#configure-your-logs" title="Configure your logs" class="md-nav__link">
    Configure your logs
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#built-in-log-themes" title="Built-in log themes" class="md-nav__link">
    Built-in log themes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#levels-of-pyppl-logs" title="Levels of pyppl logs" class="md-nav__link">
    Levels of pyppl logs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#define-your-theme" title="Define your theme" class="md-nav__link">
    Define your theme
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#log-to-file" title="Log to file" class="md-nav__link">
    Log to file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#progress-bar" title="Progress bar" class="md-nav__link">
    Progress bar
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../draw-flowchart-of-a-pipeline/" title="Pipeline flowchart" class="md-nav__link">
      Pipeline flowchart
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../configure-a-pipeline/" title="Pipeline configuration" class="md-nav__link">
      Pipeline configuration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../command-line-argument-parser/" title="Command line argument parser" class="md-nav__link">
      Command line argument parser
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../aggregations/" title="Aggregations" class="md-nav__link">
      Aggregations
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../command-line-tool/" title="Command line tool" class="md-nav__link">
      Command line tool
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../api/" title="API" class="md-nav__link">
      API
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../faq/" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../change-log/" title="Change log" class="md-nav__link">
      Change log
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#configure-your-logs" title="Configure your logs" class="md-nav__link">
    Configure your logs
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#built-in-log-themes" title="Built-in log themes" class="md-nav__link">
    Built-in log themes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#levels-of-pyppl-logs" title="Levels of pyppl logs" class="md-nav__link">
    Levels of pyppl logs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#define-your-theme" title="Define your theme" class="md-nav__link">
    Define your theme
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#log-to-file" title="Log to file" class="md-nav__link">
    Log to file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#progress-bar" title="Progress bar" class="md-nav__link">
    Progress bar
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Log configuration</h1>
                
                <h2 id="configure-your-logs">Configure your logs</h2>
<p><code>PyPPL</code> has fancy logs. You can define how they look like (theme) and what messages to show (levels).</p>
<h3 id="built-in-log-themes">Built-in log themes</h3>
<p>We have some built-in themes:</p>
<p>greenOnBlack (default):
<img alt="greenOnBlack" src="../greenOnBlack.png" /></p>
<p>greenOnWhite:
<img alt="greenOnWhite" src="../greenOnWhite.png" />
blueOnBlack:
<img alt="blueOnBlack" src="../blueOnBlack.png" /></p>
<p>blueOnWhite:
<img alt="blueOnWhite" src="../blueOnWhite.png" /></p>
<p>magentaOnBlack:
<img alt="magentaOnBlack" src="../magentaOnBlack.png" /></p>
<p>magentaOnWhite:
<img alt="magentaOnWhite" src="../magentaOnWhite.png" /></p>
<p>If you don't like them, you can also disable them:
<img alt="noThemeOnBlack" src="../noThemeOnBlack.png" />
<img alt="noThemeOnWhite" src="../noThemeOnWhite.png" /></p>
<p>To use them, just specify the name in your pipeline configuration file:
<div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;_log&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;theme&quot;</span><span class="p">:</span> <span class="s2">&quot;magentaOnWhite&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
Or when you initialize a pipeline:
<div class="highlight"><pre><span></span><span class="n">PyPPL</span><span class="p">({</span><span class="s2">&quot;_log&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;theme&quot;</span><span class="p">:</span> <span class="s2">&quot;magentaOnWhite&quot;</span><span class="p">}})</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="o">...</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
If you want to disable the theme, just set <code>"theme"</code> to <code>False</code> (<code>false</code> for <code>json</code>)
If you set <code>theme</code> to <code>True</code>, then default theme <code>greenOnBlack</code> is used.</p>
<h3 id="levels-of-pyppl-logs">Levels of pyppl logs</h3>
<p>Please note that the levels are different from those of python's <code>logging</code> module. For <code>logging</code> module has <a href="https://docs.python.org/2/library/logging.html#logging-levels">6 levels</a>, with different int values. However, pyppl's log has many levels, or more suitable, flags, which don't have corresponding values. They are somehow equal, but some of them always print out unless you ask them not to.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The log levels are a little bit different from here, please see <a href="./write-your-script/#debug-your-script">debug your script</a>.</p>
</div>
<p>You may also specify the group name in your pipeline configuration file:
<div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;_log&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;levels&quot;</span><span class="p">:</span> <span class="s2">&quot;nodebug&quot;</span>
    <span class="p">},</span>
    <span class="err">//</span> <span class="err">running</span> <span class="err">profiles</span> <span class="err">...</span>
<span class="p">}</span>
</pre></div>
Or when you initialize a pipeline:
<div class="highlight"><pre><span></span><span class="n">PyPPL</span><span class="p">({</span><span class="s2">&quot;_log&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;levels&quot;</span><span class="p">:</span> <span class="s2">&quot;nodebug&quot;</span><span class="p">}})</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="o">...</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div></p>
<p>You can also explicitly define a set of messages with different levels to show in the logs:
<div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;_log&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;levels&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;PROCESS&quot;</span><span class="p">,</span> <span class="s2">&quot;RUNNING&quot;</span><span class="p">,</span> <span class="s2">&quot;CACHED&quot;</span><span class="p">]}</span>
<span class="p">}</span>
</pre></div></p>
<p>Even you can modify the base groups:
<div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;_log&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;levels&quot;</span><span class="p">:</span> <span class="s2">&quot;normal&quot;</span><span class="p">,</span>
        <span class="nt">&quot;lvldiff&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;+DEBUG&quot;</span><span class="p">,</span> <span class="s2">&quot;P.ARGS&quot;</span><span class="p">,</span> <span class="s2">&quot;-SUBMIT&quot;</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
Then the <code>DEBUG</code>, <code>P.ARGS</code> messages will show, and <code>SUBMIT</code> will hide.</p>
<h3 id="define-your-theme">Define your theme</h3>
<p>Let's see how the built-in theme looks like first:
in <code>pyppl/logger.py</code>:
<div class="highlight"><pre><span></span><span class="n">themes</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;greenOnBlack&#39;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">&#39;PROCESS&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="n">colors</span><span class="o">.</span><span class="n">bold</span> <span class="o">+</span> <span class="n">colors</span><span class="o">.</span><span class="n">cyan</span><span class="p">,</span> <span class="n">colors</span><span class="o">.</span><span class="n">bold</span> <span class="o">+</span> <span class="n">colors</span><span class="o">.</span><span class="n">underline</span> <span class="o">+</span> <span class="n">colors</span><span class="o">.</span><span class="n">cyan</span><span class="p">],</span>
    <span class="s1">&#39;DONE&#39;</span>    <span class="p">:</span> <span class="n">colors</span><span class="o">.</span><span class="n">bold</span> <span class="o">+</span> <span class="n">colors</span><span class="o">.</span><span class="n">green</span><span class="p">,</span>
    <span class="s1">&#39;DEBUG&#39;</span>   <span class="p">:</span> <span class="n">colors</span><span class="o">.</span><span class="n">bold</span> <span class="o">+</span> <span class="n">colors</span><span class="o">.</span><span class="n">black</span><span class="p">,</span>
    <span class="s1">&#39;DEPENDS&#39;</span> <span class="p">:</span> <span class="n">colors</span><span class="o">.</span><span class="n">magenta</span><span class="p">,</span>
    <span class="s1">&#39;PROCESS&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="n">colors</span><span class="o">.</span><span class="n">bold</span> <span class="o">+</span> <span class="n">colors</span><span class="o">.</span><span class="n">cyan</span><span class="p">,</span> <span class="n">colors</span><span class="o">.</span><span class="n">bold</span> <span class="o">+</span> <span class="n">colors</span><span class="o">.</span><span class="n">underline</span> <span class="o">+</span> <span class="n">colors</span><span class="o">.</span><span class="n">cyan</span><span class="p">],</span>
    <span class="s1">&#39;in:SUBMIT,JOBDONE,INFO,P.PROPS,OUTPUT,EXPORT,INPUT,P.ARGS,BRINGS&#39;</span><span class="p">:</span> <span class="n">colors</span><span class="o">.</span><span class="n">green</span><span class="p">,</span>
    <span class="s1">&#39;has:ERR&#39;</span> <span class="p">:</span> <span class="n">colors</span><span class="o">.</span><span class="n">red</span><span class="p">,</span>
    <span class="s1">&#39;in:WARNING,RETRY&#39;</span> <span class="p">:</span> <span class="n">colors</span><span class="o">.</span><span class="n">bold</span> <span class="o">+</span> <span class="n">colors</span><span class="o">.</span><span class="n">yellow</span><span class="p">,</span>
    <span class="s1">&#39;in:CACHED,RUNNING&#39;</span><span class="p">:</span> <span class="n">colors</span><span class="o">.</span><span class="n">yellow</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span>        <span class="p">:</span> <span class="n">colors</span><span class="o">.</span><span class="n">white</span>
  <span class="p">},</span>
  <span class="c1"># other themes</span>
<span class="p">}</span>
</pre></div>
For the keys, you may either directly use the level name or have some prefix to define how to match the level names:
- <code>in:</code> matches the messages with level name in the following list, which is separated by comma (<code>,</code>).
- <code>has:</code> matches the messages with level name containing the following string.
- <code>starts:</code> matches the messages with level name starting with the following string.
- <code>re</code>: uses the following string as regular expression to match<br />
Then empty string key (<code>''</code>) defines the colors to use for the messages that can not match any of the above rules.</p>
<p>For the values, basically it's a 2-element list, where the first one defines the color to show the level name; and the second is the color to render the message. If only one color offered, it will be used for both level name and message.</p>
<p>If you just want to modify the built-in themes, you can do it before you specify it to the pyppl constructor:
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PyPPL</span> <span class="kn">import</span> <span class="n">logger</span><span class="p">,</span> <span class="n">PyPPL</span>
<span class="n">logger</span><span class="o">.</span><span class="n">themes</span><span class="p">[</span><span class="s1">&#39;greenOnBlack&#39;</span><span class="p">][</span><span class="s1">&#39;DONE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">logger</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">cyan</span>
<span class="c1"># ... define some procs</span>
<span class="n">PyPPL</span><span class="p">({</span><span class="s1">&#39;_log&#39;</span><span class="p">:{</span><span class="s1">&#39;theme&#39;</span><span class="p">:</span> <span class="s1">&#39;greenOnBlack&#39;</span><span class="p">}})</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="o">...</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div></p>
<p>Yes, of course, you can also define a completely new theme:
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyppl</span> <span class="kn">import</span> <span class="n">logger</span><span class="p">,</span> <span class="n">PyPPL</span>
<span class="c1"># ... define procs</span>
<span class="n">PyPPL</span><span class="p">({</span><span class="s1">&#39;_log&#39;</span><span class="p">:</span> 
    <span class="p">{</span><span class="s1">&#39;theme&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;DONE&#39;</span><span class="p">:</span> <span class="n">logger</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">green</span><span class="p">,</span>
        <span class="s1">&#39;DEBUG&#39;</span><span class="p">:</span> <span class="n">logger</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">black</span><span class="p">,</span>
        <span class="s1">&#39;starts:LOG&#39;</span><span class="p">:</span> <span class="n">logger</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">bgwhite</span> <span class="o">+</span> <span class="n">logger</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">black</span><span class="p">,</span>
        <span class="c1"># ...</span>
    <span class="p">}}</span>
<span class="p">})</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="o">...</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div></p>
<p>Available colors in <code>logger.colors</code>:</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Color</th>
<th>Key</th>
<th>Color</th>
<th>Key</th>
<th>Color</th>
<th>Key</th>
<th>Color</th>
<th>Key</th>
<th>Color</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>none</code></td>
<td><code>''</code><sup>1</sup></td>
<td><code>black</code></td>
<td><img alt="A" src="https://placehold.it/32/eeeeee/000000?text=A" /></td>
<td><code>red</code></td>
<td><img alt="A" src="https://placehold.it/32/eeeeee/ff0000?text=A" /></td>
<td><code>green</code></td>
<td><img alt="A" src="https://placehold.it/32/eeeeee/00ff00?text=A" /></td>
<td><code>yellow</code></td>
<td><img alt="A" src="https://placehold.it/32/eeeeee/ffff00?text=A" /></td>
</tr>
<tr>
<td><code>end</code></td>
<td><sup>2</sup></td>
<td><code>blue</code></td>
<td><img alt="A" src="https://placehold.it/32/eeeeee/0000ff?text=A" /></td>
<td><code>magenta</code></td>
<td><img alt="A" src="https://placehold.it/32/eeeeee/ff00ff?text=A" /></td>
<td><code>cyan</code></td>
<td><img alt="A" src="https://placehold.it/32/eeeeee/00ffff?text=A" /></td>
<td><code>white</code></td>
<td><img alt="A" src="https://placehold.it/32/eeeeee/ffffff?text=A" /></td>
</tr>
<tr>
<td><code>bold</code></td>
<td><strong>A</strong><sup>3</sup></td>
<td><code>bgblack</code></td>
<td><img alt="A" src="https://placehold.it/32/000000/eeeeee?text=A" /></td>
<td><code>bgred</code></td>
<td><img alt="A" src="https://placehold.it/32/ff0000/eeeeee?text=A" /></td>
<td><code>bggreen</code></td>
<td><img alt="A" src="https://placehold.it/32/00ff00/eeeeee?text=A" /></td>
<td><code>bgyellow</code></td>
<td><img alt="A" src="https://placehold.it/32/ffff00/eeeeee?text=A" /></td>
</tr>
<tr>
<td><code>underline</code></td>
<td>_<sup>4</sup></td>
<td><code>bgblue</code></td>
<td><img alt="A" src="https://placehold.it/32/0000ff/eeeeee?text=A" /></td>
<td><code>bgmagenta</code></td>
<td><img alt="A" src="https://placehold.it/32/ff00ff/eeeeee?text=A" /></td>
<td><code>bgcyan</code></td>
<td><img alt="A" src="https://placehold.it/32/00ffff/eeeeee?text=A" /></td>
<td><code>bgwhite</code></td>
<td><img alt="A" src="https://placehold.it/32/ffffff/eeeeee?text=A" /></td>
</tr>
</tbody>
</table>
<ol>
<li>An empty string; 2. End of coloring; 3. Show bold characters; 4. Show underline characters.</li>
</ol>
<p>You can also use the directly terminal escape sequences, like <code>\033[30m</code> for black (check <a href="https://en.wikipedia.org/wiki/ANSI_escape_code">here</a>).</p>
<p>If you define a theme in a configuration file, you may use the escape sequences or also use the color names:
<div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;_log&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;theme&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;DONE&quot;</span><span class="p">:</span> <span class="s2">&quot;{{colors.green}}&quot;</span><span class="p">,</span>
        <span class="nt">&quot;DEBUG&quot;</span><span class="p">:</span> <span class="s2">&quot;{{colors.black}}&quot;</span><span class="p">,</span>
        <span class="nt">&quot;starts:LOG&quot;</span><span class="p">:</span> <span class="s2">&quot;{{colors.bgwhite}}{{colors.black}}&quot;</span><span class="p">,</span>
        <span class="err">#</span> <span class="err">...</span>
    <span class="p">}}</span>
<span class="p">}</span>
</pre></div></p>
<h3 id="log-to-file">Log to file</h3>
<p>By default, pyppl will not log to a file until you set a file path to <code>{"_log": {"file": "/path/to/logfile"}}</code> in the configuration. Or you can specfiy <code>False</code> to it to disable logging to file. If you set it to <code>True</code>, a default log file will be used, which is: <code>"./pipeline.pyppl.log"</code> if your pipeline is from file: <code>./pipeline.py</code></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Filters and themes are not applied to handler to log to file. So you can always find all logs in the log file if your have it enabled.</p>
</div>
<h3 id="progress-bar">Progress bar</h3>
<p>Job status and progress are indicated in the log with progress bar:
<div class="highlight"><pre><span></span>[==============================XXXXX!!!!!&gt;&gt;&gt;&gt;&gt;-----]
</pre></div>
The bar length defaults to <code>50</code>. You can change it in your code:
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyppl</span> <span class="kn">import</span> <span class="n">Jobmgr</span>
<span class="n">Jobmgr</span><span class="o">.</span><span class="n">PBAR_SIZE</span> <span class="o">=</span> <span class="mi">80</span>
</pre></div>
Here is an explanation about how a cell (one sign or element of the bar) corresponds to job(s):
Let's say <code>Jobmgr.PBAR_SIZE = 9</code> and we have 5 jobs, then every two cells represent 1 job for first 8 cells, and last one represents job #5. The rule is trying to equally distributed the cells to jobs:
<div class="highlight"><pre><span></span> 1 2 3 4 5         1  2  345      1    2345
[==XX!!&gt;&gt;-]  NOT  [===XXX!&gt;-] OR [=====X!&gt;-]
</pre></div>
While if you have more jobs than cells, we try to equally distribute jobs to cells:
Say we have 9 jobs but <code>Jobmgr.PBAR_SIZE = 5</code>:
<div class="highlight"><pre><span></span> 1357        
 24689        
[=X!&gt;-] 
</pre></div>
First cell represents job #1, #2; second job #3, #4; ...; the last one represents job #9.</p>
<p>The meaning of each sign in the cell:
- <code>-</code>: Job initiated
- <code>!</code>: Job failed to submit
- <code>&gt;</code>: Job running
- <code>X</code>: Job failed
- <code>=</code>: Job done</p>
<p>Note that if a cell represents multiple jobs, it has a priority as above listed. For example, in the second situation, if job #1 is done, however, job #2 is running, then the sign should be <code>&gt;</code>.</p>
<p>But if the progress bar belongs to a job (shown when a job is submitted or done), the status of the job has the highest priority. So in the above example, if the progress bar belongs to job #1:
<div class="highlight"><pre><span></span>[JOBDONE] [1/9] [=----] Done:  x.x% | Running: x
           ^ Indicating current job
</pre></div>
So even job #2 belongs to the first cell and it's running, the sign is still <code>=</code>.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../set-other-properties-of-a-process/" title="Other attributes of a process" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Other attributes of a process
              </span>
            </div>
          </a>
        
        
          <a href="../draw-flowchart-of-a-pipeline/" title="Pipeline flowchart" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Pipeline flowchart
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.5e60981f.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
    
      
    
  </body>
</html>