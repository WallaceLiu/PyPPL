



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.3, mkdocs-material-3.0.4">
    
    
      
        <title>Channels - PyPPL</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.451f80e5.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="../#channels" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="PyPPL" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                PyPPL
              </span>
              <span class="md-header-nav__topic">
                Channels
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="PyPPL" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    PyPPL
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../basic-concepts-and-directory-structure/" title="Basics and folder structure" class="md-nav__link">
      Basics and folder structure
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../placeholders/" title="Templating" class="md-nav__link">
      Templating
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Channels
      </label>
    
    <a href="./" title="Channels" class="md-nav__link md-nav__link--active">
      Channels
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#channels" title="Channels" class="md-nav__link">
    Channels
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#initialize-a-channel" title="Initialize a channel" class="md-nav__link">
    Initialize a channel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods-for-channels" title="Methods for channels" class="md-nav__link">
    Methods for channels
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-the-length-and-width-of-a-channel" title="Get the length and width of a channel" class="md-nav__link">
    Get the length and width of a channel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-value-from-a-channel" title="Get value from a channel" class="md-nav__link">
    Get value from a channel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#repeat-rows-and-columns" title="Repeat rows and columns" class="md-nav__link">
    Repeat rows and columns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expand-a-channel-by-directory" title="Expand a channel by directory" class="md-nav__link">
    Expand a channel by directory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collapse-a-channel-by-files-in-a-common-ancestor-directory" title="Collapse a channel by files in a common ancestor directory" class="md-nav__link">
    Collapse a channel by files in a common ancestor directory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fetch-rows-from-a-channel" title="Fetch rows from a channel" class="md-nav__link">
    Fetch rows from a channel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fetch-columns-from-a-channel" title="Fetch columns from a channel" class="md-nav__link">
    Fetch columns from a channel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flatten-a-channel" title="Flatten a channel" class="md-nav__link">
    Flatten a channel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#split-a-channel-to-single-width-channels" title="Split a channel to single-width channels" class="md-nav__link">
    Split a channel to single-width channels
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attach-column-names" title="Attach column names" class="md-nav__link">
    Attach column names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#map-filter-reduce" title="Map, filter, reduce" class="md-nav__link">
    Map, filter, reduce
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-rowscolumns-to-a-channel" title="Add rows/columns to a channel" class="md-nav__link">
    Add rows/columns to a channel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fold-a-channel" title="Fold a channel" class="md-nav__link">
    Fold a channel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unfold-a-channel" title="Unfold a channel" class="md-nav__link">
    Unfold a channel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copy-a-channel" title="Copy a channel" class="md-nav__link">
    Copy a channel
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../specify-input-and-output-of-a-process/" title="Input and output of a process" class="md-nav__link">
      Input and output of a process
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../write-your-script/" title="The heart: script" class="md-nav__link">
      The heart: script
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../export-output-files/" title="Output file exporting" class="md-nav__link">
      Output file exporting
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../caching/" title="Caching and resuming processes" class="md-nav__link">
      Caching and resuming processes
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../runners/" title="Runners and running profiles" class="md-nav__link">
      Runners and running profiles
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../error-handling/" title="Error handling of processes" class="md-nav__link">
      Error handling of processes
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../set-other-properties-of-a-process/" title="Other attributes of a process" class="md-nav__link">
      Other attributes of a process
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../configure-your-logs/" title="Log configuration" class="md-nav__link">
      Log configuration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../draw-flowchart-of-a-pipeline/" title="Pipeline flowchart" class="md-nav__link">
      Pipeline flowchart
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../configure-a-pipeline/" title="Pipeline configuration" class="md-nav__link">
      Pipeline configuration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../command-line-argument-parser/" title="Command line argument parser" class="md-nav__link">
      Command line argument parser
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../aggregations/" title="Aggregations" class="md-nav__link">
      Aggregations
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../command-line-tool/" title="Command line tool" class="md-nav__link">
      Command line tool
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../api/" title="API" class="md-nav__link">
      API
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../faq/" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../change-log/" title="Change log" class="md-nav__link">
      Change log
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#channels" title="Channels" class="md-nav__link">
    Channels
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#initialize-a-channel" title="Initialize a channel" class="md-nav__link">
    Initialize a channel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods-for-channels" title="Methods for channels" class="md-nav__link">
    Methods for channels
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-the-length-and-width-of-a-channel" title="Get the length and width of a channel" class="md-nav__link">
    Get the length and width of a channel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-value-from-a-channel" title="Get value from a channel" class="md-nav__link">
    Get value from a channel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#repeat-rows-and-columns" title="Repeat rows and columns" class="md-nav__link">
    Repeat rows and columns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expand-a-channel-by-directory" title="Expand a channel by directory" class="md-nav__link">
    Expand a channel by directory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collapse-a-channel-by-files-in-a-common-ancestor-directory" title="Collapse a channel by files in a common ancestor directory" class="md-nav__link">
    Collapse a channel by files in a common ancestor directory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fetch-rows-from-a-channel" title="Fetch rows from a channel" class="md-nav__link">
    Fetch rows from a channel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fetch-columns-from-a-channel" title="Fetch columns from a channel" class="md-nav__link">
    Fetch columns from a channel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flatten-a-channel" title="Flatten a channel" class="md-nav__link">
    Flatten a channel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#split-a-channel-to-single-width-channels" title="Split a channel to single-width channels" class="md-nav__link">
    Split a channel to single-width channels
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attach-column-names" title="Attach column names" class="md-nav__link">
    Attach column names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#map-filter-reduce" title="Map, filter, reduce" class="md-nav__link">
    Map, filter, reduce
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-rowscolumns-to-a-channel" title="Add rows/columns to a channel" class="md-nav__link">
    Add rows/columns to a channel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fold-a-channel" title="Fold a channel" class="md-nav__link">
    Fold a channel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unfold-a-channel" title="Unfold a channel" class="md-nav__link">
    Unfold a channel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copy-a-channel" title="Copy a channel" class="md-nav__link">
    Copy a channel
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Channels</h1>
                
                <h2 id="channels">Channels</h2>
<p>Channels are used to pass data from one process (an instance of <code>Proc</code>) to another. It is derived from a <code>list</code>, where each element is a <code>tuple</code>. <strong>So all python functions/methods that apply on <code>list</code> will also apply on <code>Channel</code>.</strong> The length a the <code>tuple</code> corresponds to the number of variables of the input or output of a <code>proc</code>.
<div class="highlight"><pre><span></span><span class="c1"># v1  v2  v3</span>
<span class="n">c</span> <span class="o">=</span> <span class="p">[</span>
 <span class="p">(</span><span class="n">a1</span><span class="p">,</span> <span class="n">b1</span><span class="p">,</span> <span class="n">c1</span><span class="p">),</span>  <span class="c1"># data for job #0</span>
 <span class="p">(</span><span class="n">a2</span><span class="p">,</span> <span class="n">b2</span><span class="p">,</span> <span class="n">c2</span><span class="p">),</span>  <span class="c1"># data for job #1</span>
<span class="c1"># ...</span>
<span class="p">]</span>
</pre></div>
If we specify this channel to the input of a <code>proc</code>:
<div class="highlight"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">proc</span><span class="p">()</span>
<span class="n">p</span><span class="o">.</span><span class="n">input</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;v1,v2,v3&quot;</span><span class="p">:</span> <span class="n">c</span><span class="p">}</span>
</pre></div>
Then the values for different variables in different jobs wil be:</p>
<table>
<thead>
<tr>
<th>Job Index</th>
<th>v1</th>
<th>v2</th>
<th>v3</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>a1</td>
<td>b1</td>
<td>c1</td>
</tr>
<tr>
<td>1</td>
<td>a2</td>
<td>b2</td>
<td>c2</td>
</tr>
<tr>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<h3 id="initialize-a-channel">Initialize a channel</h3>
<p>There are several ways to initialize a channel:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Please use <code>Channel.create(...)</code> instead of <code>Channel(...)</code> unless each element is 'tuplized' properly. 
<div class="highlight"><pre><span></span><span class="n">Channel</span><span class="o">.</span><span class="n">create</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span> <span class="o">!=</span> <span class="n">Channel</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">Channel</span><span class="o">.</span><span class="n">create</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span> <span class="o">==</span> <span class="n">Channel</span><span class="p">([(</span><span class="mi">1</span><span class="p">,),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,)])</span>
</pre></div></p>
</div>
<ul>
<li>
<p>From other channels: <br />
  <div class="highlight"><pre><span></span><span class="n">ch1</span> <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">create</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)])</span>
<span class="n">ch2</span> <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="n">ch3</span> <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">create</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
<span class="n">ch</span>  <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">fromChannels</span><span class="p">(</span><span class="n">ch1</span><span class="p">,</span> <span class="n">ch2</span><span class="p">,</span> <span class="n">ch3</span><span class="p">)</span>
<span class="c1"># channels are column-bound</span>
<span class="c1"># ch == [(1, 2, &#39;a&#39;, 5), (3, 4, &#39;a&#39;, 6)]</span>
</pre></div></p>
</li>
<li>
<p>From a file path pattern:<br />
  Use <code>glob.glob</code> to grab files by the pattern, you may use different arguments for filter, sort or reverse the list:</p>
</li>
<li>
<p>filter the files with type (<code>t</code>): <code>dir</code>, <code>file</code>, <code>link</code> or <code>any</code> (default), </p>
</li>
<li>sort them by (<code>sortby</code>): <code>size</code>, <code>mtime</code> or <code>name</code> (default)</li>
<li>
<p>reverse the list (<code>reverse</code>): <code>False</code> (default, don't reverse)</p>
<div class="highlight"><pre><span></span><span class="n">c</span> <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">fromPattern</span> <span class="p">(</span><span class="s2">&quot;/a/b/*.txt&quot;</span><span class="p">,</span> <span class="n">t</span> <span class="o">=</span> <span class="s1">&#39;any&#39;</span><span class="p">,</span> <span class="n">sortby</span> <span class="o">=</span> <span class="s1">&#39;size&#39;</span><span class="p">,</span> <span class="n">reverse</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span>
</pre></div>

</li>
<li>
<p>From file pairs:
  <div class="highlight"><pre><span></span><span class="n">c</span> <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">fromPairs</span> <span class="p">(</span><span class="s2">&quot;/a/b/*.txt&quot;</span><span class="p">)</span>
<span class="c1"># the files will be sorted by names and then split into pairs</span>
<span class="c1"># c == [(&quot;/a/b/a1.txt&quot;, &quot;/a/b/a2.txt&quot;), (&quot;/a/b/b1.txt&quot;, &quot;/a/b/b2.txt&quot;)]</span>
</pre></div></p>
</li>
<li>
<p>From file content:<br />
<code>Channel.fromFile(fn, header=False, skip=0, delimit="\t")</code>
  For example, we have a file <code>"chan.txt"</code> with content:
  <div class="highlight"><pre><span></span>A&lt;tab&gt;B&lt;tab&gt;C
a1&lt;tab&gt;b1&lt;tab&gt;c1
a2&lt;tab&gt;b2&lt;tab&gt;c2
</pre></div>
  Read the file as a channel:
  <div class="highlight"><pre><span></span><span class="n">c</span> <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">fromFile</span> <span class="p">(</span><span class="s2">&quot;chan.txt&quot;</span><span class="p">)</span>
<span class="c1"># c == [(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;), (&quot;a1&quot;, &quot;b1&quot;, &quot;c1&quot;), (&quot;a2&quot;, &quot;b2&quot;, &quot;c2&quot;)]</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">fromFile</span> <span class="p">(</span><span class="s2">&quot;chan.txt&quot;</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="c1"># c == [(&quot;a1&quot;, &quot;b1&quot;, &quot;c1&quot;), (&quot;a2&quot;, &quot;b2&quot;, &quot;c2&quot;)]</span>
<span class="c1"># c.A == [(&quot;a1&quot;, ), (&quot;a2&quot;, )]</span>
<span class="c1"># c.B == [(&quot;b1&quot;, ), (&quot;b2&quot;, )]</span>
<span class="c1"># c.C == [(&quot;c1&quot;, ), (&quot;c2&quot;, )]</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">fromFile</span> <span class="p">(</span><span class="s2">&quot;chan.txt&quot;</span><span class="p">,</span> <span class="n">skip</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="c1"># c == [(&quot;a1&quot;, &quot;b1&quot;, &quot;c1&quot;), (&quot;a2&quot;, &quot;b2&quot;, &quot;c2&quot;)]</span>
</pre></div></p>
</li>
<li>
<p>From <code>sys.argv</code> (command line arguments):
  <div class="highlight"><pre><span></span><span class="n">c</span> <span class="o">==</span> <span class="n">channel</span><span class="o">.</span><span class="n">fromArgv</span><span class="p">()</span>
<span class="c1"># python whatever.py /a/b/*.txt</span>
<span class="c1"># c == [(&quot;/a/b/1.txt&quot;,), (&quot;/a/b/2.txt&quot;,), (&quot;/a/b/3.txt&quot;,), (&quot;/a/b/4.txt&quot;,)]</span>
<span class="c1"># Make a multple-variable channel:</span>
<span class="c1"># python whatever.py /a/b/1.txt,/a/b/2.txt /a/b/3.txt,/a/b/4.txt</span>
<span class="c1"># c == [(&quot;/a/b/1.txt&quot;, &quot;/a/b/2.txt&quot;), (&quot;/a/b/3.txt&quot;, &quot;/a/b/4.txt&quot;)]</span>
</pre></div></p>
</li>
<li>
<p>From command line argument parser:
  See <a href="./command-line-argument-parser/">command line argument parser</a> for details.
  <div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PyPPL</span> <span class="kn">import</span> <span class="n">Channel</span><span class="p">,</span> <span class="n">params</span>
<span class="n">params</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="s1">&#39;a&#39;</span>
<span class="n">params</span><span class="o">.</span><span class="n">b</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">params</span><span class="o">.</span><span class="n">b</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">int</span>
<span class="n">params</span><span class="o">.</span><span class="n">c</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="n">params</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">list</span>
<span class="n">params</span><span class="o">.</span><span class="n">d</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">]</span>
<span class="n">params</span><span class="o">.</span><span class="n">d</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">list</span>
<span class="n">params</span><span class="o">.</span><span class="n">e</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">params</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">list</span>

<span class="n">ch</span> <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">fromParams</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">)</span>
<span class="c1"># Raises ValueError, non-equal length</span>
<span class="n">ch</span> <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">fromParams</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">)</span>
<span class="c1"># ch == [(1, &#39;a&#39;), (2, &#39;b&#39;)]</span>
<span class="n">ch</span> <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">fromParams</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="c1"># ch == [(&#39;a&#39;, 2)]</span>
</pre></div></p>
</li>
</ul>
<h3 id="methods-for-channels">Methods for channels</h3>
<h4 id="get-the-length-and-width-of-a-channel">Get the length and width of a channel</h4>
<div class="highlight"><pre><span></span><span class="n">chan</span> <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">create</span> <span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">)])</span>
<span class="c1">#chan.length() == 2 == len(chan)</span>
<span class="c1">#chan.width()  == 3</span>
</pre></div>

<h4 id="get-value-from-a-channel">Get value from a channel</h4>
<div class="highlight"><pre><span></span><span class="n">chan</span> <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">create</span> <span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">)])</span>
<span class="c1"># chan.get() == 1</span>
<span class="c1"># chan.get(0) == 1</span>
<span class="c1"># chan.get(1) == 2</span>
<span class="c1"># chan.get(2) == 3</span>
<span class="c1"># chan.get(3) == 4</span>
<span class="c1"># chan.get(4) == 5</span>
<span class="c1"># chan.get(5) == 6</span>
</pre></div>

<h4 id="repeat-rows-and-columns">Repeat rows and columns</h4>
<div class="highlight"><pre><span></span><span class="n">chan</span> <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">create</span> <span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">)])</span>
<span class="n">chan2</span> <span class="o">=</span> <span class="n">chan</span><span class="o">.</span><span class="n">repCol</span><span class="p">()</span>
<span class="n">chan3</span> <span class="o">=</span> <span class="n">chan</span><span class="o">.</span><span class="n">repCol</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="c1"># chan2 == [(1,2,3,1,2,3), (4,5,6,4,5,6)]</span>
<span class="c1"># chan3 == [(1,2,3,1,2,3,1,2,3), (4,5,6,4,5,6,4,5,6)]</span>
<span class="n">chan4</span> <span class="o">=</span> <span class="n">chan</span><span class="o">.</span><span class="n">repRow</span><span class="p">()</span>
<span class="n">chan5</span> <span class="o">=</span> <span class="n">chan</span><span class="o">.</span><span class="n">repRow</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="c1"># chan4 == [(1,2,3), (4,5,6), (1,2,3), (4,5,6)]</span>
<span class="c1"># chan5 == [(1,2,3), (4,5,6), (1,2,3), (4,5,6), (1,2,3), (4,5,6)]</span>
</pre></div>

<h4 id="expand-a-channel-by-directory">Expand a channel by directory</h4>
<p><code>Channel.expand (col= 0, pattern = '*', t='any', sortby='name', reverse=False)</code></p>
<p>Sometimes we prepare files in one process (for example, split a big file into small ones in a directory), then handle these files by different jobs in another process, so that they can be processed simultaneously. </p>
<p><img alt="channel.expand" src="../channel-expand.png" /> </p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<ul>
<li><code>expand</code> only works for original channels with length is 1, which will expand to <code>N</code> (number of files included). If original channel has more than 1 element, only first element will be used, and other elements will be ignored.</li>
<li>Only the value of the column to be expanded will be changed, values of other columns remain the same. </li>
</ul>
</div>
<h4 id="collapse-a-channel-by-files-in-a-common-ancestor-directory">Collapse a channel by files in a common ancestor directory</h4>
<p><code>Channel.collapse(col=0)</code></p>
<p>It's basically the reverse process of <code>expand</code>. It applies when you deal with different files and in next process you need them all involved (i.e. combine the results):</p>
<p><img alt="channel.expand" src="../channel-collapse.png" /> </p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<ul>
<li><code>os.path.dirname(os.path.commonprefix(...))</code> is used to detect the common ancestor directory, so the files could be <code>['/a/1/1.file', '/a/2/1.file']</code>. In this case <code>/a/</code> will be returned.</li>
<li>values at other columns should be the same, <code>PyPPL</code> will NOT check it, the first value at the column will be used.</li>
</ul>
</div>
<h4 id="fetch-rows-from-a-channel">Fetch rows from a channel</h4>
<ul>
<li><code>Channel.rowAt(index)</code>  </li>
</ul>
<div class="highlight"><pre><span></span><span class="n">chan1</span> <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">create</span> <span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">)])</span>
<span class="n">chan2</span> <span class="o">=</span> <span class="n">chan1</span><span class="o">.</span><span class="n">rowAt</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># chan2 == [(4,5,6,7)]</span>

<span class="c1"># Now you can also fetch multiple columus as a channel:</span>
<span class="n">chan3</span> <span class="o">=</span> <span class="n">chan1</span><span class="o">.</span><span class="n">rowAt</span><span class="p">([:</span><span class="mi">2</span><span class="p">])</span>
<span class="n">chan3</span> <span class="o">==</span> <span class="n">chan1</span>
</pre></div>

<h4 id="fetch-columns-from-a-channel">Fetch columns from a channel</h4>
<ul>
<li><code>Channel.slice(start, length=None)</code></li>
</ul>
<div class="highlight"><pre><span></span><span class="n">chan1</span> <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">create</span> <span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">)])</span>
<span class="n">chan2</span> <span class="o">=</span> <span class="n">chan1</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="c1"># chan2 == [(2,3), (5,6)]</span>
<span class="n">chan3</span> <span class="o">=</span> <span class="n">chan1</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="c1"># chan3 == [(3,4), (6,7)]</span>
<span class="n">chan4</span> <span class="o">=</span> <span class="n">chan1</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># chan4 == [(4,), (7,)]</span>
</pre></div>

<ul>
<li><code>Channel.colAt(index)</code></li>
</ul>
<div class="highlight"><pre><span></span><span class="n">chan</span><span class="o">.</span><span class="n">colAt</span><span class="p">(</span><span class="n">index</span><span class="p">)</span> <span class="o">==</span> <span class="n">chan</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Now you may also fetch multiple columns:</span>
<span class="n">chan</span><span class="o">.</span><span class="n">colAt</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span> <span class="o">==</span> <span class="n">chan</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>

<h4 id="flatten-a-channel">Flatten a channel</h4>
<p><code>Channel.flatten(col = None)</code>
Flatten a channel, make it into a list.
<div class="highlight"><pre><span></span><span class="n">chan</span>  <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">create</span> <span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">)])</span>
<span class="n">f1</span> <span class="o">=</span> <span class="n">chan</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
<span class="c1"># f1 == [1,2,3,4,5,6]</span>
<span class="n">f2</span> <span class="o">=</span> <span class="n">chan</span><span class="o">.</span><span class="n">flatten</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># f1 == [2,5]</span>
</pre></div></p>
<h4 id="split-a-channel-to-single-width-channels">Split a channel to single-width channels</h4>
<p><code>Channel.split(flatten = False)</code>
<div class="highlight"><pre><span></span><span class="n">chan</span>  <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">create</span> <span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">)])</span>
<span class="n">chans</span> <span class="o">=</span> <span class="n">chan</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="c1"># isinstance (chans, list) == True</span>
<span class="c1"># isinstance (chans, Channel) == False</span>
<span class="c1"># chans == [</span>
<span class="c1">#   [(1,), (4,)],  # isinstance (chans[0], Channel) == True</span>
<span class="c1">#   [(2,), (5,)],</span>
<span class="c1">#   [(3,), (6,)],</span>
<span class="c1"># ]</span>
<span class="n">chans2</span> <span class="o">=</span> <span class="n">chan</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
<span class="c1"># chans2 == [</span>
<span class="c1">#   [1, 4],        # isinstance (chans2[0], Channel) == False</span>
<span class="c1">#   [2, 5],</span>
<span class="c1">#   [3, 6],</span>
<span class="c1"># ]</span>
</pre></div></p>
<h4 id="attach-column-names">Attach column names</h4>
<p><code>Channel.attach(*names)</code>
We can attach the column names and then use them to access the columns.
<div class="highlight"><pre><span></span><span class="n">ch</span> <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">create</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">)])</span>
<span class="n">ch</span><span class="o">.</span><span class="n">attach</span> <span class="p">(</span><span class="s1">&#39;col1&#39;</span><span class="p">,</span> <span class="s1">&#39;col2&#39;</span><span class="p">,</span> <span class="s1">&#39;col3&#39;</span><span class="p">)</span>
<span class="c1"># ch.col1 == [(1,), (4,)]</span>
<span class="c1"># ch.col2 == [(2,), (5,)]</span>
<span class="c1"># ch.col3 == [(3,), (6,)]</span>
<span class="c1"># isinstance(ch.col1, Channel) == True</span>

<span class="c1"># flatten the columns</span>
<span class="n">ch</span><span class="o">.</span><span class="n">attach</span> <span class="p">(</span><span class="s1">&#39;col1&#39;</span><span class="p">,</span> <span class="s1">&#39;col2&#39;</span><span class="p">,</span> <span class="s1">&#39;col3&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
<span class="c1"># ch.col1 == [1,4]</span>
<span class="c1"># ch.col2 == [2.5]</span>
<span class="c1"># ch.col3 == [3,6]</span>
<span class="c1"># isinstance(ch.col1, Channel) == False</span>
</pre></div></p>
<h4 id="map-filter-reduce">Map, filter, reduce</h4>
<ul>
<li><code>Channel.map(func)</code></li>
<li><code>Channel.mapCol(func, col=0)</code>
  <div class="highlight"><pre><span></span><span class="n">ch1</span> <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">create</span><span class="p">()</span>
<span class="n">ch2</span> <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">create</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="n">ch3</span> <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">create</span><span class="p">([(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)])</span>
<span class="c1"># ch1.map(lambda x: (x[0]*x[0],)) == []</span>
<span class="c1"># ch2.map(lambda x: (x[0]*x[0],)) == [(1,),(4,),(9,),(16,),(25,)]</span>
<span class="c1"># ch3.map(lambda x: (x[0], x[1]*x[1])) == [(&#39;a&#39;, 1), (&#39;b&#39;, 4)]</span>
<span class="c1"># ch1.mapCol(lambda x: x*x) == []</span>
<span class="c1"># ch2.mapCol(lambda x: x*x) == [(1,),(4,),(9,),(16,),(25,)]</span>
<span class="c1"># ch3.mapCol(lambda x: x*x, 1) == [(&#39;a&#39;, 1), (&#39;b&#39;, 4)]</span>
<span class="c1"># map &amp; mapCol return an instance of Channel</span>
</pre></div></li>
<li><code>Channel.filter(func)</code></li>
<li><code>Channel.filterCol(func, col=0)</code>
  <div class="highlight"><pre><span></span><span class="n">ch1</span> <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">create</span><span class="p">([</span>
  <span class="p">(</span><span class="mi">1</span><span class="p">,</span>    <span class="mi">0</span><span class="p">,</span>     <span class="mi">0</span><span class="p">,</span>   <span class="mi">1</span>  <span class="p">),</span>
  <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span>  <span class="s1">&#39;&#39;</span><span class="p">,</span>    <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">),</span>
  <span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>   <span class="mi">1</span>  <span class="p">),</span>
  <span class="p">([],</span>   <span class="p">[</span><span class="mi">1</span><span class="p">],</span>   <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
<span class="p">])</span>
<span class="c1"># Filter by the first column, only first three rows remained</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">filterCol</span><span class="p">()</span> <span class="o">==</span> <span class="n">ch1</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span> 
<span class="c1"># Filter by the second column, only the last row remained</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">filterCol</span><span class="p">(</span><span class="n">col</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="n">ch1</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
<span class="c1"># Filter by the third column, the 2nd and 4th row remained</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">filterCol</span><span class="p">(</span><span class="n">col</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span><span class="n">ch1</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">ch1</span><span class="p">[</span><span class="mi">3</span><span class="p">]]</span>
<span class="c1"># Filter by the fourth column, all rows remained</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">filterCol</span><span class="p">(</span><span class="n">col</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="n">ch1</span>
<span class="c1"># Filter with a function:		</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="nb">int</span><span class="p">))</span> <span class="o">==</span> <span class="p">[</span><span class="n">ch1</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">ch1</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span>
<span class="c1"># filter &amp; filterCol return an instance of Channel</span>
</pre></div></li>
<li><code>Channel.reduce(func)</code></li>
<li><code>Channel.reduceCol(func, col=0)</code>
  <div class="highlight"><pre><span></span><span class="n">ch1</span> <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">create</span><span class="p">()</span>
<span class="c1"># Raises TypeError, no elements</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span>
<span class="n">ch1</span> <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">create</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="c1"># Notice the different</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="c1"># x and y are tuples</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">reduceCol</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span> <span class="o">==</span> <span class="mi">15</span>           <span class="c1"># x and y are numbers</span>
</pre></div></li>
</ul>
<h4 id="add-rowscolumns-to-a-channel">Add rows/columns to a channel</h4>
<ul>
<li><code>Channel.rbind(*rows)</code>  </li>
</ul>
<p>Each row can be either a channel, a tuple, a list or a non-iterable element(including string) <br />
  <div class="highlight"><pre><span></span><span class="n">ch1</span> <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">create</span><span class="p">()</span>
<span class="n">ch2</span> <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">create</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>

<span class="n">row1</span> <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">row2</span> <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">create</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="n">row3</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="n">row4</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,)</span>
<span class="n">row5</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="n">row6</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span>
<span class="n">row7</span> <span class="o">=</span> <span class="mi">5</span>

<span class="n">ch1</span><span class="o">.</span><span class="n">rbind</span><span class="p">(</span><span class="n">row1</span><span class="p">)</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="p">)]</span>
<span class="n">ch2</span><span class="o">.</span><span class="n">rbind</span><span class="p">(</span><span class="n">row1</span><span class="p">)</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)],</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">rbind</span><span class="p">(</span><span class="n">row2</span><span class="p">)</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)]</span>
<span class="n">ch2</span><span class="o">.</span><span class="n">rbind</span><span class="p">(</span><span class="n">row2</span><span class="p">)</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)]</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">rbind</span><span class="p">(</span><span class="n">row3</span><span class="p">)</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">3</span><span class="p">,)]</span>
<span class="n">ch2</span><span class="o">.</span><span class="n">rbind</span><span class="p">(</span><span class="n">row3</span><span class="p">)</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)]</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">rbind</span><span class="p">(</span><span class="n">row4</span><span class="p">)</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">3</span><span class="p">,)]</span>
<span class="n">ch2</span><span class="o">.</span><span class="n">rbind</span><span class="p">(</span><span class="n">row4</span><span class="p">)</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)]</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">rbind</span><span class="p">(</span><span class="n">row5</span><span class="p">)</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">)]</span>
<span class="n">ch2</span><span class="o">.</span><span class="n">rbind</span><span class="p">(</span><span class="n">row5</span><span class="p">)</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">)]</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">rbind</span><span class="p">(</span><span class="n">row6</span><span class="p">)</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">)]</span>
<span class="n">ch2</span><span class="o">.</span><span class="n">rbind</span><span class="p">(</span><span class="n">row6</span><span class="p">)</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">)]</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">rbind</span><span class="p">(</span><span class="n">row7</span><span class="p">)</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">5</span><span class="p">,)]</span>
<span class="n">ch2</span><span class="o">.</span><span class="n">rbind</span><span class="p">(</span><span class="n">row7</span><span class="p">)</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">)]</span>
</pre></div></p>
<ul>
<li>
<p><code>Channel.cbind(*cols)</code>
  <div class="highlight"><pre><span></span><span class="n">ch1</span> <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">create</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)])</span>
<span class="n">ch2</span> <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">create</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>

<span class="n">ch1</span><span class="o">.</span><span class="n">cbind</span><span class="p">(</span><span class="n">ch2</span><span class="p">)</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">)]</span>

<span class="n">ch2</span> <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">cbind</span><span class="p">(</span><span class="n">ch2</span><span class="p">)</span>    <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)]</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">cbind</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">)]</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">cbind</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">)]</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">cbind</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)</span>    <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)]</span>

<span class="n">ch1</span> <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">create</span><span class="p">()</span>
<span class="n">ch2</span> <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">create</span><span class="p">([</span><span class="mi">21</span><span class="p">,</span> <span class="mi">22</span><span class="p">])</span>
<span class="n">ch3</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">ch4</span> <span class="o">=</span> <span class="p">[</span><span class="mi">41</span><span class="p">,</span> <span class="mi">42</span><span class="p">]</span>
<span class="n">ch5</span> <span class="o">=</span> <span class="p">(</span><span class="mi">51</span><span class="p">,</span> <span class="mi">52</span><span class="p">)</span>
<span class="n">ch6</span> <span class="o">=</span> <span class="s2">&quot;a&quot;</span>

<span class="n">ch1</span><span class="o">.</span><span class="n">cbind</span><span class="p">(</span><span class="n">ch2</span><span class="p">,</span> <span class="n">ch3</span><span class="p">,</span> <span class="n">ch4</span><span class="p">,</span> <span class="n">ch5</span><span class="p">,</span> <span class="n">ch6</span><span class="p">)</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">21</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">41</span><span class="p">,</span> <span class="mi">51</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">22</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">52</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)]</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">cbind</span><span class="p">(</span><span class="n">ch3</span><span class="p">)</span><span class="o">.</span><span class="n">cbind</span><span class="p">(</span><span class="n">ch6</span><span class="p">)</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)]</span>
</pre></div></p>
</li>
<li>
<p><code>Channel.insert(index, col)</code><br />
  <div class="highlight"><pre><span></span><span class="n">ch1</span> <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">create</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)])</span>
<span class="n">ch2</span> <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">create</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">ch2</span><span class="p">)</span>    <span class="o">==</span> <span class="p">[(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">ch2</span><span class="p">)</span>    <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">ch2</span><span class="p">)</span>   <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="n">ch2</span><span class="p">)</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">)]</span>

<span class="n">ch2</span> <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">ch2</span><span class="p">)</span>    <span class="o">==</span> <span class="p">[(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">ch2</span><span class="p">)</span>    <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">ch2</span><span class="p">)</span>   <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="n">ch2</span><span class="p">)</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)]</span>

<span class="n">ch1</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>    <span class="o">==</span> <span class="p">[(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>    <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>   <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">)]</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>    <span class="o">==</span> <span class="p">[(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>    <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>   <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">)]</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span>       <span class="o">==</span> <span class="p">[(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span>       <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span>      <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span>    <span class="o">==</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)]</span>

<span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">ch1</span><span class="p">,</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)])</span>

<span class="n">ch1</span> <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">create</span><span class="p">()</span>
<span class="n">ch2</span> <span class="o">=</span> <span class="n">Channel</span><span class="o">.</span><span class="n">create</span><span class="p">([</span><span class="mi">21</span><span class="p">,</span> <span class="mi">22</span><span class="p">])</span>
<span class="n">ch3</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">ch4</span> <span class="o">=</span> <span class="p">[</span><span class="mi">41</span><span class="p">,</span> <span class="mi">42</span><span class="p">]</span>
<span class="n">ch5</span> <span class="o">=</span> <span class="p">(</span><span class="mi">51</span><span class="p">,</span> <span class="mi">52</span><span class="p">)</span>
<span class="n">ch6</span> <span class="o">=</span> <span class="s2">&quot;a&quot;</span>
<span class="c1"># Raises ValueError, when 1 is inserted, it is a 1-width channel, </span>
<span class="c1"># then you can&#39;t insert a 2-width to it.</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">ch2</span><span class="p">)</span>
<span class="n">ch1</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">ch2</span><span class="p">,</span> <span class="n">ch3</span><span class="p">,</span> <span class="n">ch4</span><span class="p">,</span> <span class="n">ch5</span><span class="p">,</span> <span class="n">ch6</span><span class="p">)</span> <span class="o">==</span> <span class="p">[(</span><span class="mi">21</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">41</span><span class="p">,</span> <span class="mi">51</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">22</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">52</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)]</span>
</pre></div></p>
</li>
</ul>
<h4 id="fold-a-channel">Fold a channel</h4>
<p><code>Channel.fold(n = 1)</code>
Fold a <code>channel</code>, Make a row to n-length chunk rows
For example, you have the following channel:</p>
<table>
<thead>
<tr>
<th>a1</th>
<th>a2</th>
<th>a3</th>
<th>a4</th>
</tr>
</thead>
<tbody>
<tr>
<td>b1</td>
<td>b2</td>
<td>b3</td>
<td>b4</td>
</tr>
</tbody>
</table>
<p>After apply <code>chan.fold(2)</code> you will get:</p>
<table>
<thead>
<tr>
<th>a1</th>
<th>a2</th>
</tr>
</thead>
<tbody>
<tr>
<td>a3</td>
<td>a4</td>
</tr>
<tr>
<td>b1</td>
<td>b2</td>
</tr>
<tr>
<td>b3</td>
<td>b4</td>
</tr>
</tbody>
</table>
<h4 id="unfold-a-channel">Unfold a channel</h4>
<p><code>Channel.unfold(n=2)</code>
Combine n-rows into one row; do the reverse thing as <code>Channel.fold</code>. But note that the different meaning of <code>n</code>. In <code>fold</code>, <code>n</code> means the length of the chunk that a row is cut to; will in <code>unfold</code>, it means how many rows to combine.</p>
<h4 id="copy-a-channel">Copy a channel</h4>
<p><code>Channel.copy()</code></p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../placeholders/" title="Templating" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Templating
              </span>
            </div>
          </a>
        
        
          <a href="../specify-input-and-output-of-a-process/" title="Input and output of a process" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Input and output of a process
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.a26c1c19.js"></script>
      
      <script>app.initialize({version:"1.0.3",url:{base:".."}})</script>
      
    
    
      
    
  </body>
</html>